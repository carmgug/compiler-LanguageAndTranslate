/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package compiler;

import compiler.Lexer.Lexer;
import compiler.Lexer.Symbol;

import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.StringReader;


public class Compiler {
    public static void main(String[] args) throws IOException {




        boolean debugModeLexer = false;
        String filePath = null;

        // Parse command-line arguments
        for (int i = 0; i < args.length; i++) {
            if ("-lexer".equals(args[i])) {
                debugModeLexer = true;
            } else {
                // Assuming the file path comes after the -lexer flag
                filePath = args[i];
            }
        }
        // Check if file path is provided
        if (filePath == null) {
            System.err.println("Usage: javac Main.java -lexer <filepath>");
            System.exit(1); // Exit with error
        }

        FileReader fileReader = new FileReader(filePath);


        Lexer lexer = new Lexer(fileReader,debugModeLexer);

        Symbol curr_symbol=lexer.getNextSymbol();
        while (!curr_symbol.isEOF()){

            System.out.println(curr_symbol);
            curr_symbol=lexer.getNextSymbol();


        }
        System.out.println(curr_symbol);




    }
}
